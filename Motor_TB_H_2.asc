Version 4
SHEET 1 996 1008
WIRE -464 -32 -592 -32
WIRE 80 -32 -464 -32
WIRE -592 0 -592 -32
WIRE 80 64 80 -32
WIRE 144 64 80 64
WIRE -464 96 -464 -32
WIRE -96 96 -464 96
WIRE 16 96 -32 96
WIRE 144 96 16 96
WIRE -592 128 -592 80
WIRE 80 144 80 64
WIRE 144 144 80 144
WIRE -464 176 -464 96
WIRE -256 176 -464 176
WIRE -144 176 -192 176
WIRE 144 176 -144 176
WIRE 816 192 432 192
WIRE 80 224 80 144
WIRE 144 224 80 224
WIRE 512 224 432 224
WIRE -464 256 -464 176
WIRE -416 256 -464 256
WIRE -304 256 -352 256
WIRE 144 256 -304 256
WIRE 240 304 240 272
WIRE 288 304 288 272
WIRE 336 304 336 272
WIRE 816 304 816 192
WIRE -304 368 -304 256
WIRE -144 368 -144 176
WIRE 16 368 16 96
WIRE 816 416 816 384
WIRE -240 448 -256 448
WIRE 80 448 64 448
WIRE -240 512 -240 448
WIRE 336 512 336 384
WIRE 336 512 -240 512
WIRE 384 512 336 512
WIRE 496 512 448 512
WIRE -96 544 -96 448
WIRE 288 544 288 384
WIRE 288 544 -96 544
WIRE 336 544 288 544
WIRE 496 544 496 512
WIRE 496 544 400 544
WIRE 656 544 496 544
WIRE 80 576 80 448
WIRE 240 576 240 384
WIRE 240 576 80 576
WIRE 288 576 240 576
WIRE 496 576 496 544
WIRE 496 576 352 576
WIRE -304 592 -304 464
WIRE -304 592 -384 592
WIRE -176 592 -304 592
WIRE -144 592 -144 464
WIRE -144 592 -176 592
WIRE 16 592 16 464
WIRE 16 592 -144 592
WIRE 768 592 720 592
WIRE 896 592 848 592
WIRE -304 640 -304 592
WIRE -176 640 -176 592
WIRE -384 656 -384 592
WIRE 656 672 656 640
WIRE 128 688 96 688
WIRE 528 688 496 688
WIRE 96 720 96 688
WIRE 496 720 496 688
WIRE -384 752 -384 720
WIRE -304 752 -304 720
WIRE -176 752 -176 720
WIRE -112 752 -176 752
WIRE -176 784 -176 752
WIRE -176 896 -176 864
WIRE 96 896 96 800
WIRE 496 896 496 800
FLAG -592 128 0
FLAG -304 752 0
FLAG 816 416 0
FLAG -112 752 CM1
FLAG -384 752 0
FLAG -176 896 0
FLAG 96 896 0
FLAG 128 688 RAMP
FLAG 496 896 0
FLAG 528 688 PWM
FLAG 656 672 0
FLAG 896 592 PWM
SYMBOL motor_3_H 272 160 R0
SYMATTR InstName X1
SYMATTR SpiceLine L_Leak=.007 R=2.1 Kt=1 IP=0 Inertia=10m VHALL=10
SYMBOL nmos -256 368 M0
WINDOW 3 117 12 VRight 2
SYMATTR Value R6020PNJ
SYMATTR InstName M3
SYMBOL voltage -592 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 200
SYMBOL nmos -96 368 M0
WINDOW 3 117 12 VRight 2
SYMATTR Value R6020PNJ
SYMATTR InstName M1
SYMBOL nmos 64 368 M0
WINDOW 3 117 12 VRight 2
SYMATTR Value R6020PNJ
SYMATTR InstName M2
SYMBOL diode -32 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL diode -192 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL diode -352 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL res 800 288 R0
SYMATTR InstName R1
SYMATTR Value 200
SYMBOL res 224 288 R0
WINDOW 0 36 40 Invisible 2
WINDOW 3 36 76 Invisible 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 272 288 R0
WINDOW 0 36 40 Invisible 2
WINDOW 3 36 76 Invisible 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res 320 288 R0
WINDOW 0 36 40 Invisible 2
WINDOW 3 36 76 Invisible 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL res -320 624 R0
SYMATTR InstName R5
SYMATTR Value .1
SYMBOL cap -400 656 R0
SYMATTR InstName C1
SYMATTR Value 10m
SYMBOL diode 288 560 M90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D4
SYMBOL diode 336 528 M90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D5
SYMBOL diode 384 496 M90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D6
SYMBOL res -192 624 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res -192 768 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL voltage 96 704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 99u .9u .1u 100u)
SYMBOL bv 496 704 R0
SYMATTR InstName B1
SYMATTR Value V=IF(V(CM1)>V(RAMP),10,0)
SYMBOL npn 720 544 M0
SYMATTR InstName Q1
SYMBOL res 864 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
TEXT -464 808 Left 2 !.tran 4
